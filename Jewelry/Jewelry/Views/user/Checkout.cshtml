@using System.Globalization;
@model IEnumerable<Jewelry.Models.ItemDetails>
@{
    ViewData["Title"] = "Checkout";
    Layout = "~/Views/Shared/_userLayout.cshtml";

    //var serializedCartItems = TempData["cart"] as string;
    //var cartItems = !string.IsNullOrEmpty(serializedCartItems)
    //? JsonConvert.DeserializeObject<List<Addtoshop>>(serializedCartItems)
    //: new List<Addtoshop>();
}
@*@model Jewelry.Models.Addtoshop;
@using Newtonsoft.Json
@inject IHttpContextAccessor abc;

@

<section class="vh-100" style="background-color: #fdccbc;">
    <div class="container h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col">
                <p><span class="h2">Shopping Cart </span><span class="h4">(1 item in your cart)</span></p>
                
                    <div class="card mb-4">
                        <div class="card-body p-4">
                        @foreach (var item in cartItems)
                        {
                            <div class="row align-items-center">

                                <div class="col-md-2">
                                    <img src=""
                                         class="img-fluid" alt="Generic placeholder image">
                                </div>
                                <div class="col-md-2 d-flex justify-content-center">
                                    <div>
                                        <p class="small text-muted mb-4 pb-2">Name</p>
                                        <p class="lead fw-normal mb-0">@item.pName</p>
                                    </div>
                                </div>
                                <div class="col-md-2 d-flex justify-content-center">
                                    <div>
                                        <p class="small text-muted mb-4 pb-2">Quantity</p>
                                        <p class="lead fw-normal mb-0">
                                            @item.quantity
                                        </p>
                                    </div>
                                </div>

                                <div class="col-md-2 d-flex justify-content-center">
                                    <div>
                                        <p class="small text-muted mb-4 pb-2">Price</p>
                                        <p class="lead fw-normal mb-0">@item.price</p>
                                    </div>
                                </div>
                                <div class="col-md-2 d-flex justify-content-center">
                                    <div>
                                        <p class="small text-muted mb-4 pb-2">Total</p>
                                        <p class="lead fw-normal mb-0">@item.totalprice</p>
                                    </div>
                                </div>
                            </div>
                        }
                        </div>
                    </div>


                    <div class="card mb-5">
                        <div class="card-body p-4">

                            <div class="float-end">
                                <p class="mb-0 me-5 d-flex align-items-center">
                                    <span class="small text-muted me-2">Order total:</span> <span class="lead fw-normal">$799</span>
                                </p>
                            </div>

                        </div>
                    </div>
                
                @if (string.IsNullOrEmpty(abc.HttpContext.Session.GetString("y")))
                {


                    <a type="submit" class="btn btn-dark btn-lg" asp-controller="UserRegMsts" asp-action="userlogin">
                        Signup/Login
                    </a>
                    
                    
                }
                else
                {   @using (Html.BeginForm()){

                        <form >
                        
                        <input type="text" class="form-control" name="contact" placeholder="Contact...." >
                        
                        <br>
                        <input type="text" class="form-control" name="address" placeholder="Adress....">
                        <br>
                        
                        </form>
                        
                    <div class="d-flex justify-content-end">
                        <button type="button" class="btn btn-light btn-lg me-2">Continue shopping</button>
                        <button type="button" class="btn btn-primary btn-lg">Checkout</button>
                    </div>
                    }
                }
            </div>
        </div>
    </div>
</section>

*@



@*@{
    ViewData["Title"] = "Checkout";
    Layout = "~/Views/Shared/_userLayout.cshtml";
}

<section class="bg-light">
    <div class="container pb-5">
        <div class="row">
            <div class="col-lg-12 mt-5">
                <h2>Shopping Cart</h2>
                @if (Model.Count == 0)
                {
                    <p>No items in the cart.</p>
                }
                else
                {
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Quantity</th>
                                <th>Price</th>
                                <th>Total Price</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td>@item.pName</td>
                                    <td>@item.quantity</td>
                                    <td>@item.price.ToString("C", new CultureInfo("en-US"))</td>
                                    <td>@item.totalprice.ToString("C", new CultureInfo("en-US"))</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                }
            </div>
        </div>
    </div>
</section>*@

@foreach (var item in Model)
{

    <div class="col-4 isotope-item women">
        <!-- Block2 -->
        <div class="block2">
            <div class="block2-pic hov-img0">
                <img src="@item.imgUrl" alt="IMG-PRODUCT">

                <a href="#" class="block2-btn flex-c-m stext-103 cl2 size-102 bg0 bor2 hov-btn1 p-lr-15 trans-04 js-show-modal1">
                    Quick View
                </a>
            </div>

            <div class="block2-txt flex-w flex-t p-t-14">
                <div class="block2-txt-child1 flex-col-l ">
                    <a href="product-detail.html" class="stext-104 cl4 hov-cl1 trans-04 js-name-b2 p-b-6">
                        @item.prodName
                    </a>

                    <span class="stext-105 cl3">
                        @item.MRP
                    </span>
                </div>

                <div class="block2-txt-child2 flex-r p-t-3">
                    <a href="#" class="btn-addwish-b2 dis-block pos-relative js-addwish-b2">
                        <img class="icon-heart1 dis-block trans-04" src="images/icons/icon-heart-01.png" alt="ICON">
                        <img class="icon-heart2 dis-block trans-04 ab-t-l" src="images/icons/icon-heart-02.png" alt="ICON">
                    </a>
                </div>
                <p> <a class="btn btn-primary" asp-controller="Cart" asp-action="Add" asp-route-id="@item.ItemMstID">Show Details</a></p>
            </div>
        </div>
    </div>




    <!-- Load more -->
}

@*@if (Model.Count > 0)
{
    <table class="table">
        <thead>
            <tr>
                <th>Product Name</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Total Price</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@item.pName</td>
                    <td>@item.quantity</td>
                    <td>@item.price</td>
                    <td>@item.totalprice</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No items in the cart.</p>*@
}